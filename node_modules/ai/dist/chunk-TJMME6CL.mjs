import {
  AIStream,
  trimStartOfStreamHelper
} from "./chunk-265FSSO4.mjs";

// streams/openai-stream.ts
function parseOpenAIStream() {
  const trimStartOfStream = trimStartOfStreamHelper();
  return (data) => {
    var _a, _b, _c, _d, _e;
    const json = JSON.parse(data);
    const text = trimStartOfStream(
      (_e = (_d = (_b = (_a = json.choices[0]) == null ? void 0 : _a.delta) == null ? void 0 : _b.content) != null ? _d : (_c = json.choices[0]) == null ? void 0 : _c.text) != null ? _e : ""
    );
    return text;
  };
}
function OpenAIStream(res, cb) {
  return AIStream(res, parseOpenAIStream(), cb);
}

export {
  OpenAIStream
};
